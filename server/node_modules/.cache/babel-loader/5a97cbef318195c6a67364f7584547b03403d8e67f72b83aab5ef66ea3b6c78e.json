{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RITU\\\\Desktop\\\\CodeBlink\\\\src\\\\components\\\\core\\\\ViewCourse\\\\VideoDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport \"video-react/dist/video-react.css\";\nimport { useLocation } from \"react-router-dom\";\nimport { BigPlayButton, Player } from \"video-react\";\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\";\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\";\nimport IconBtn from \"../../Common/IconBtn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoDetails = () => {\n  _s();\n  const {\n    courseId,\n    sectionId,\n    subSectionId\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const playerRef = useRef(null);\n  const dispatch = useDispatch();\n  const {\n    token\n  } = useSelector(state => state.auth);\n  const {\n    courseSectionData,\n    courseEntireData,\n    completedLectures\n  } = useSelector(state => state.viewCourse);\n  const [videoData, setVideoData] = useState([]);\n  const [previewSource, setPreviewSource] = useState(\"\");\n  const [videoEnded, setVideoEnded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    (async () => {\n      if (!courseSectionData.length) return;\n      if (!courseId && !sectionId && !subSectionId) {\n        navigate(`/dashboard/enrolled-courses`);\n      } else {\n        var _filteredData$;\n        const filteredData = courseSectionData.filter(course => course._id === sectionId);\n        const filteredVideoData = filteredData === null || filteredData === void 0 ? void 0 : (_filteredData$ = filteredData[0]) === null || _filteredData$ === void 0 ? void 0 : _filteredData$.subSection.filter(data => data._id === subSectionId);\n        setVideoData(filteredVideoData[0]);\n        setPreviewSource(courseEntireData.thumbnail);\n        setVideoEnded(false);\n      }\n    })();\n  }, [courseId, sectionId, subSectionId, navigate, courseSectionData, courseEntireData]);\n\n  // check if the lecture is the first video of the course\n  const isFirstVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  // go to the next video\n  const goToNextVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const noOfSubsections = courseSectionData[currentSectionIndx].subSection.length;\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n\n    // console.log(\"no of subsections\", noOfSubsections)\n\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\n      const nextSubSectionId = courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx + 1]._id;\n      navigate(`/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`);\n    } else {\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id;\n      const nextSubSectionId = courseSectionData[currentSectionIndx + 1].subSection[0]._id;\n      navigate(`/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`);\n    }\n  };\n\n  // check if the lecture is the last video of the course\n  const isLastVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const noOfSubsections = courseSectionData[currentSectionIndx].subSection.length;\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSectionIndx === courseSectionData.length - 1 && currentSubSectionIndx === noOfSubsections - 1) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  // go to the previous video\n  const goToPrevVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(data => data._id === sectionId);\n    const currentSubSectionIndx = courseSectionData[currentSectionIndx].subSection.findIndex(data => data._id === subSectionId);\n    if (currentSubSectionIndx !== 0) {\n      const prevSubSectionId = courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx - 1]._id;\n      navigate(`/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`);\n    } else {\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id;\n      const prevSubSectionLength = courseSectionData[currentSectionIndx - 1].subSection.length;\n      const prevSubSectionId = courseSectionData[currentSectionIndx - 1].subSection[prevSubSectionLength - 1]._id;\n      navigate(`/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`);\n    }\n  };\n  const handleLectureCompletion = async () => {\n    setLoading(true);\n    const res = await markLectureAsComplete({\n      courseId: courseId,\n      subsectionId: subSectionId\n    }, token);\n    if (res) {\n      dispatch(updateCompletedLectures(subSectionId));\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-5 text-white\",\n    children: [!videoData ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: previewSource,\n      alt: \"Preview\",\n      className: \"h-full w-full rounded-md object-cover\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Player, {\n      ref: playerRef,\n      aspectRatio: \"16:9\",\n      playsInline: true,\n      onEnded: () => setVideoEnded(true),\n      src: videoData === null || videoData === void 0 ? void 0 : videoData.videoUrl,\n      children: [/*#__PURE__*/_jsxDEV(BigPlayButton, {\n        position: \"center\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this), videoEnded && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundImage: \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\"\n        },\n        className: \"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\",\n        children: [!completedLectures.includes(subSectionId) && /*#__PURE__*/_jsxDEV(IconBtn, {\n          disabled: loading,\n          onclick: () => handleLectureCompletion(),\n          text: !loading ? \"Mark As Completed\" : \"Loading...\",\n          customClasses: \"text-xl max-w-max px-4 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(IconBtn, {\n          disabled: loading,\n          onclick: () => {\n            if (playerRef !== null && playerRef !== void 0 && playerRef.current) {\n              var _playerRef$current;\n              // set the current time of the video to 0\n              playerRef === null || playerRef === void 0 ? void 0 : (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : _playerRef$current.seek(0);\n              setVideoEnded(false);\n            }\n          },\n          text: \"Rewatch\",\n          customClasses: \"text-xl max-w-max px-4 mx-auto mt-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\",\n          children: [!isFirstVideo() && /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: loading,\n            onClick: goToPrevVideo,\n            className: \"blackButton\",\n            children: \"Prev\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 19\n          }, this), !isLastVideo() && /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: loading,\n            onClick: goToNextVideo,\n            className: \"blackButton\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mt-4 text-3xl font-semibold\",\n      children: videoData === null || videoData === void 0 ? void 0 : videoData.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"pt-2 pb-6\",\n      children: videoData === null || videoData === void 0 ? void 0 : videoData.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoDetails, \"9OTfZ0uJS72j6NJEmBGnZ5PDWAY=\", false, function () {\n  return [useParams, useNavigate, useLocation, useDispatch, useSelector, useSelector];\n});\n_c = VideoDetails;\nexport default VideoDetails;\n// video\nvar _c;\n$RefreshReg$(_c, \"VideoDetails\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","useNavigate","useParams","useLocation","BigPlayButton","Player","markLectureAsComplete","updateCompletedLectures","IconBtn","jsxDEV","_jsxDEV","VideoDetails","_s","courseId","sectionId","subSectionId","navigate","location","playerRef","dispatch","token","state","auth","courseSectionData","courseEntireData","completedLectures","viewCourse","videoData","setVideoData","previewSource","setPreviewSource","videoEnded","setVideoEnded","loading","setLoading","length","_filteredData$","filteredData","filter","course","_id","filteredVideoData","subSection","data","thumbnail","isFirstVideo","currentSectionIndx","findIndex","currentSubSectionIndx","goToNextVideo","noOfSubsections","nextSubSectionId","nextSectionId","isLastVideo","goToPrevVideo","prevSubSectionId","prevSectionId","prevSubSectionLength","handleLectureCompletion","res","subsectionId","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","ref","aspectRatio","playsInline","onEnded","videoUrl","position","style","backgroundImage","includes","disabled","onclick","text","customClasses","current","_playerRef$current","seek","onClick","title","description","_c","$RefreshReg$"],"sources":["C:/Users/RITU/Desktop/CodeBlink/src/components/core/ViewCourse/VideoDetails.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useNavigate, useParams } from \"react-router-dom\"\n\nimport \"video-react/dist/video-react.css\"\nimport { useLocation } from \"react-router-dom\"\nimport { BigPlayButton, Player } from \"video-react\"\n\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\"\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\"\nimport IconBtn from \"../../Common/IconBtn\"\n\nconst VideoDetails = () => {\n  const { courseId, sectionId, subSectionId } = useParams()\n  const navigate = useNavigate()\n  const location = useLocation()\n  const playerRef = useRef(null)\n  const dispatch = useDispatch()\n  const { token } = useSelector((state) => state.auth)\n  const { courseSectionData, courseEntireData, completedLectures } =\n    useSelector((state) => state.viewCourse)\n\n  const [videoData, setVideoData] = useState([])\n  const [previewSource, setPreviewSource] = useState(\"\")\n  const [videoEnded, setVideoEnded] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    (async () => {\n      if (!courseSectionData.length) return;\n      if (!courseId && !sectionId && !subSectionId) {\n        navigate(`/dashboard/enrolled-courses`);\n      } else {\n        const filteredData = courseSectionData.filter(\n          (course) => course._id === sectionId\n        );\n        const filteredVideoData = filteredData?.[0]?.subSection.filter(\n          (data) => data._id === subSectionId\n        );\n        setVideoData(filteredVideoData[0]);\n        setPreviewSource(courseEntireData.thumbnail);\n        setVideoEnded(false);\n      }\n    })();\n  }, [courseId, sectionId, subSectionId, navigate, courseSectionData, courseEntireData]);\n  \n  // check if the lecture is the first video of the course\n  const isFirstVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  // go to the next video\n  const goToNextVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const noOfSubsections =\n      courseSectionData[currentSectionIndx].subSection.length\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    // console.log(\"no of subsections\", noOfSubsections)\n\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\n      const nextSubSectionId =\n        courseSectionData[currentSectionIndx].subSection[\n          currentSubSectionIndx + 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`\n      )\n    } else {\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id\n      const nextSubSectionId =\n        courseSectionData[currentSectionIndx + 1].subSection[0]._id\n      navigate(\n        `/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`\n      )\n    }\n  }\n\n  // check if the lecture is the last video of the course\n  const isLastVideo = () => {\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const noOfSubsections =\n      courseSectionData[currentSectionIndx].subSection.length\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (\n      currentSectionIndx === courseSectionData.length - 1 &&\n      currentSubSectionIndx === noOfSubsections - 1\n    ) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  // go to the previous video\n  const goToPrevVideo = () => {\n    // console.log(courseSectionData)\n\n    const currentSectionIndx = courseSectionData.findIndex(\n      (data) => data._id === sectionId\n    )\n\n    const currentSubSectionIndx = courseSectionData[\n      currentSectionIndx\n    ].subSection.findIndex((data) => data._id === subSectionId)\n\n    if (currentSubSectionIndx !== 0) {\n      const prevSubSectionId =\n        courseSectionData[currentSectionIndx].subSection[\n          currentSubSectionIndx - 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`\n      )\n    } else {\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id\n      const prevSubSectionLength =\n        courseSectionData[currentSectionIndx - 1].subSection.length\n      const prevSubSectionId =\n        courseSectionData[currentSectionIndx - 1].subSection[\n          prevSubSectionLength - 1\n        ]._id\n      navigate(\n        `/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`\n      )\n    }\n  }\n\n  const handleLectureCompletion = async () => {\n    setLoading(true)\n    const res = await markLectureAsComplete(\n      { courseId: courseId, subsectionId: subSectionId },\n      token\n    )\n    if (res) {\n      dispatch(updateCompletedLectures(subSectionId))\n    }\n    setLoading(false)\n  }\n\n  return (\n    <div className=\"flex flex-col gap-5 text-white\">\n      {!videoData ? (\n        <img\n          src={previewSource}\n          alt=\"Preview\"\n          className=\"h-full w-full rounded-md object-cover\"\n        />\n      ) : (\n        <Player\n          ref={playerRef}\n          aspectRatio=\"16:9\"\n          playsInline\n          onEnded={() => setVideoEnded(true)}\n          src={videoData?.videoUrl}\n        >\n          <BigPlayButton position=\"center\" />\n          {/* Render When Video Ends */}\n          {videoEnded && (\n            <div\n              style={{\n                backgroundImage:\n                  \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\",\n              }}\n              className=\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\"\n            >\n              {!completedLectures.includes(subSectionId) && (\n                <IconBtn\n                  disabled={loading}\n                  onclick={() => handleLectureCompletion()}\n                  text={!loading ? \"Mark As Completed\" : \"Loading...\"}\n                  customClasses=\"text-xl max-w-max px-4 mx-auto\"\n                />\n              )}\n              <IconBtn\n                disabled={loading}\n                onclick={() => {\n                  if (playerRef?.current) {\n                    // set the current time of the video to 0\n                    playerRef?.current?.seek(0)\n                    setVideoEnded(false)\n                  }\n                }}\n                text=\"Rewatch\"\n                customClasses=\"text-xl max-w-max px-4 mx-auto mt-2\"\n              />\n              <div className=\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\">\n                {!isFirstVideo() && (\n                  <button\n                    disabled={loading}\n                    onClick={goToPrevVideo}\n                    className=\"blackButton\"\n                  >\n                    Prev\n                  </button>\n                )}\n                {!isLastVideo() && (\n                  <button\n                    disabled={loading}\n                    onClick={goToNextVideo}\n                    className=\"blackButton\"\n                  >\n                    Next\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n        </Player>\n      )}\n\n      <h1 className=\"mt-4 text-3xl font-semibold\">{videoData?.title}</h1>\n      <p className=\"pt-2 pb-6\">{videoData?.description}</p>\n    </div>\n  )\n}\n\nexport default VideoDetails\n// video"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}